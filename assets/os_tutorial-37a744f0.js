import{A as e,f as n,g as d,C as s}from"./vendor-a79c0d81.js";import"./__commonjsHelpers__-725317a4.js";const c={class:"markdown-body"},o=s(`<p class="block grey"><strong>1. 如何物理安裝OpenWRT系統</strong></p><p class="notice">本教程適用於所有X86架構的多網口小主機。</p><ul><li><p>刷系統前準備：</p><ul><li><p>固件：</p><table><thead><tr><th style="text-align:center;">系統</th><th style="text-align:center;">OpenWRT</th><th style="text-align:center;">pfSense</th><th style="text-align:center;">OPNsense</th><th style="text-align:center;">VyOS</th><th style="text-align:center;">DD-WRT</th></tr></thead><tbody><tr><td style="text-align:center;">推薦指數</td><td style="text-align:center;">★★★★★</td><td style="text-align:center;">★★★★★</td><td style="text-align:center;">★★★★★</td><td style="text-align:center;">★★★★</td><td style="text-align:center;">★★★</td></tr><tr><td style="text-align:center;">鏡像下載</td><td style="text-align:center;"><a href="https://github.com/coolsnowwolf/lede">Lean OpenWrt</a><br><code>不提供任何教程</code></td><td style="text-align:center;"><a href="https://www.pfsense.org/download/">官方下載</a><br><code>不提供任何教程</code></td><td style="text-align:center;"><a href="https://opnsense.org/download/">官方下載</a><br><code>不提供任何教程</code></td><td style="text-align:center;"><a href="https://support.vyos.io/en/support/solutions/103000152091">官方下載</a><br><code>不提供任何教程</code></td><td style="text-align:center;"><a href="https://dd-wrt.com/">官方下載</a><br><code>不提供任何教程</code></td></tr><tr><td style="text-align:center;">底層</td><td style="text-align:center;">Linux</td><td style="text-align:center;">FreeBSD</td><td style="text-align:center;">FreeBSD</td><td style="text-align:center;">Vyatta</td><td style="text-align:center;">Linux</td></tr><tr><td style="text-align:center;">是否開源</td><td style="text-align:center;">是</td><td style="text-align:center;">是</td><td style="text-align:center;">是</td><td style="text-align:center;">是</td><td style="text-align:center;">是</td></tr><tr><td style="text-align:center;">優勢特點</td><td style="text-align:center;">自定義和嵌入式<br>插件生態</td><td style="text-align:center;">防火墻和網絡安全</td><td style="text-align:center;">防火墻和網絡安全<br>現代化界面</td><td style="text-align:center;">路由和網絡 <br><code>適合大中型企業場景</code></td><td style="text-align:center;"><code>適合中小型企業場景</code></td></tr><tr><td style="text-align:center;">社區支持</td><td style="text-align:center;">多</td><td style="text-align:center;">多，<code>英文社區</code></td><td style="text-align:center;">多，<code>英文社區</code></td><td style="text-align:center;">中，<code>英文社區</code></td><td style="text-align:center;">多，<code>英文社區</code></td></tr><tr><td style="text-align:center;">開源協議</td><td style="text-align:center;">GNU, GPL</td><td style="text-align:center;">繼承FreeBSD</td><td style="text-align:center;">繼承FreeBSD, 有其他要求</td><td style="text-align:center;">GNU, GPL</td><td style="text-align:center;">-</td></tr></tbody></table></li></ul><p class="notice">英特爾11代以後處理器僅支持UEFI啟動，建議下載帶有UEFI支持的鏡像文件，鏡像文件需要解壓為<code>img</code>格式結尾的文件。</p><ul><li>硬盤轉接卡：</li></ul><p class="notice">不管你的多網口小主機上的硬盤是SATA、mSATA、M.2固態，均可以通過購買硬盤轉接卡/盒的方式單獨拆下，進行快速刷機。</p><ul><li>寫盤軟件： <ul><li>Mac: <a href="https://www.balena.io/etcher">BalenaEtcher</a></li><li>Windows: <a href="https://www.balena.io/etcher">BalenaEtcher</a> ｜ <a href="https://rufus.ie/en/">Rufus</a> | 其他</li></ul></li></ul></li></ul><p class="notice">以上軟件均可以實現將可引導啟動的img格式鏡像寫入到啟動盤。</p><ul><li><code>打開</code>寫盤軟件（<code>這裏以Mac使用BalenaEtcher寫盤為例</code>），<code>插入</code>裝好mSATA硬盤的轉接卡到你的PC或者Mac上；<br><img src="https://s2.loli.net/2023/03/18/6yqnoLZBXGewJdm.png" style="zoom:50%;"><br></li><li><code>選擇</code>需要寫入的固件並<code>選中</code>你插入的這塊mSATA硬盤，點擊<code>寫入</code>；<br><img src="https://s2.loli.net/2023/03/18/nBIcqLZhgmFDe6o.png" style="zoom:50%;"><br><img src="https://s2.loli.net/2023/03/18/9rRn7xF1zOZupYi.png" style="zoom:50%;"></li><li>刷寫成功，安全彈出；</li></ul><p class="notice">將刷寫好的硬盤裝入你的多網口小主機，插電即可啟動刷入的軟路由系統。</p><p class="block grey"><strong>2. 如何初始化 OpenWRT 的網絡設置？</strong></p><p>初始化 OpenWrt 的網絡設置，就目前 iStore OS 和 Lean 的大部分固件都帶有初始化網絡設置傻瓜式配置步驟。</p><p><strong>通常來說</strong> ，你需要能理解幾個基礎的網絡術語才能自行配置好網絡：<br><code>LAN</code>， <code>WAN</code>, <code>PPPoE</code>，<code>DHCP</code>，<code>ISP (運營商)</code>，<code>寬帶賬號&amp;密碼</code>， <code>光貓撥號</code>， <code>光貓橋接</code>，<code>撥號方式</code>，<code>網絡橋接</code>， <code>IP 地址</code></p><p><strong><small>什麽？ 你不懂？！——那就 <em><s>百度（不是）</s></em> 谷歌了解吧！這個都不會的話，後續沒法一起快樂玩耍。</small></strong></p><p class="block grey"><strong>3. 如何給 OpenWRT 進行 Overlay 分區擴容操作？</strong></p><p class="notice">網上能查到的資料都是基於SATA盤下的擴容操作教程。如果我是NVMe/eMMC硬盤呢？</p><p>現在基本所有固件都標配 <code>磁盤管理</code> 了。可以直接在 Web 頁面 <code>系統</code>&gt;&gt;&gt;<code>磁盤管理</code>後臺點擊修改，改成你需要的大小和格式。如果無法修改成你需要的 <code>f2fs</code> 格式的話，則還是需要使用代碼的方式將對一個你的分區格式化為自己需要的格式。具體 Google 一下 <code>cfdisk</code> 用法。</p><p class="block grey"><strong>4. 如何找回動態 DNS 中缺少的 Cloudflare.com-v4 服務？</strong></p><p class="notice">雕哥故意沒有編譯進去，覺得國內的域名服務更好。🥹</p><ul><li><p>SSH到OpenWrt後臺，運行<code>opkg update</code>拉取最新的軟件包；</p></li><li><p>在<code>系統</code>&gt;&gt;&gt;<code>軟件包</code>下，搜索並安裝 <code>ddns-scripts-cloudflare</code>；</p></li><li><p>用 vim 或 nano 命令補全cloudflare ddns相關內容到目錄 /etc/ddns 下的service文件末尾</p><pre class="language-sh"><code class="language-sh"><span class="token string">&quot;aliyun.com&quot;</span>            <span class="token string">&quot;update_aliyun_com.sh&quot;</span>
<span class="token string">&quot;dnspod.com&quot;</span>            <span class="token string">&quot;update_dnspod_com.sh&quot;</span>
<span class="token string">&quot;dnspod.cn&quot;</span>             <span class="token string">&quot;update_dnspod_cn.sh&quot;</span>
<span class="token string">&quot;cloudflare.com-v4&quot;</span>     <span class="token string">&quot;update_cloudflare_com_v4.sh&quot;</span>
</code></pre></li><li><p>檢查第二步安裝的軟件包存在於<code>/usr/lib/ddns</code>下</p><pre class="language-sh"><code class="language-sh">root@QWRT:~<span class="token comment"># ls /usr/lib/ddns/</span>
dynamic_dns_functions.sh     dynamic_dns_updater.sh       update_cloudflare_com_v4.sh  update_dnspod_com.sh
dynamic_dns_lucihelper.sh    update_aliyun_com.sh         update_dnspod_cn.sh
</code></pre></li></ul><p>刷新後，即可在DDNS下看到 <code>Cloudflare.com-v4 </code>選項了</p>`,17),l=[o],h=[],x={__name:"os_tutorial",setup(a,{expose:t}){return t({frontmatter:{meta:[]}}),e({meta:[]}),(p,g)=>(n(),d("div",c,l))}};export{x as default,h as meta};
